'use strict';Object.defineProperty(exports,'__esModule',{value:!0}),exports.getDMSDataByCDN=exports.getDMSDataByServer=void 0;var _axios=require('axios'),_axios2=_interopRequireDefault(_axios),_md=require('md5.js'),_md2=_interopRequireDefault(_md),_utils=require('./utils');function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}function _asyncToGenerator(a){return function(){var b=a.apply(this,arguments);return new Promise(function(a,c){function d(e,f){try{var g=b[e](f),h=g.value}catch(a){return void c(a)}return g.done?void a(h):Promise.resolve(h).then(function(a){d('next',a)},function(a){d('throw',a)})}return d('next')})}}var baseUrl='http://127.0.0.1:5000/dms/data/',salt='winwinfe',getDMSDataByServer=exports.getDMSDataByServer=function(){var a=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function a(b){var c,d,e,f,g,h,i=1<arguments.length&&arguments[1]!==void 0?arguments[1]:'';return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,!_utils.isBrowser){a.next=7;break}return c=(0,_utils.getUrlParams)(location.search),d=c.enableReview,a.next=5,_axios2.default.get(b+'&enableReview='+d);case 5:return e=a.sent,a.abrupt('return',e.data.data);case 7:return f=(0,_utils.getUrlParams)(i),g=f.enableReview,a.next=10,_axios2.default.get(b+'&enableReview='+g);case 10:return h=a.sent,a.abrupt('return',h.data.data);case 14:return a.prev=14,a.t0=a['catch'](0),a.abrupt('return',!1);case 17:case'end':return a.stop();}},a,void 0,[[0,14]])}));return function(){return a.apply(this,arguments)}}(),getDMSDataByCDN=exports.getDMSDataByCDN=function(){var a=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function a(b){var c,d,e,f,g,h,i,j,k,l,m=1<arguments.length&&arguments[1]!==void 0?arguments[1]:'';return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,c=new _md2.default().update('y'+b+salt).digest('hex'),d=new _md2.default().update('n'+b+salt).digest('hex'),!(_utils.isBrowser&&location.search)){a.next=14;break}if(e=(0,_utils.getUrlParams)(location.search),f=e.enableReview,1!==parseInt(f)){a.next=10;break}return a.next=8,_axios2.default.get(baseUrl+c+'.json');case 8:return g=a.sent,a.abrupt('return',g.data);case 10:return a.next=12,_axios2.default.get(baseUrl+d+'.json');case 12:return h=a.sent,a.abrupt('return',h.data);case 14:if(i=(0,_utils.getUrlParams)(m),j=i.enableReview,1!==parseInt(j)){a.next=20;break}return a.next=18,_axios2.default.get(baseUrl+c+'.json');case 18:return k=a.sent,a.abrupt('return',k.data);case 20:return a.next=22,_axios2.default.get(baseUrl+d+'.json');case 22:return l=a.sent,a.abrupt('return',l.data);case 26:return a.prev=26,a.t0=a['catch'](0),a.abrupt('return',!1);case 29:case'end':return a.stop();}},a,void 0,[[0,26]])}));return function(){return a.apply(this,arguments)}}();